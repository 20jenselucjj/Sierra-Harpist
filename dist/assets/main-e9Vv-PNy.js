(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const e of n)if(e.type==="childList")for(const t of e.addedNodes)t.tagName==="LINK"&&t.rel==="modulepreload"&&r(t)}).observe(document,{childList:!0,subtree:!0});function l(n){const e={};return n.integrity&&(e.integrity=n.integrity),n.referrerPolicy&&(e.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?e.credentials="include":n.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function r(n){if(n.ep)return;n.ep=!0;const e=l(n);fetch(n.href,e)}})();(function(o,s,l){let r=function(e,t){e.q.push(t)},n=o.document;o.Cal=o.Cal||function(){let e=o.Cal,t=arguments;if(e.loaded||(e.ns={},e.q=e.q||[],n.head.appendChild(n.createElement("script")).src=s,e.loaded=!0),t[0]===l){const c=function(){r(c,arguments)},i=t[1];c.q=c.q||[],typeof i=="string"?(e.ns[i]=e.ns[i]||c,r(e.ns[i],t),r(e,["initNamespace",i])):r(e,t);return}r(e,t)}})(window,"https://app.cal.com/embed.js","init");Cal("init","30min",{origin:"https://cal.com"});Cal.ns["30min"]("inline",{elementOrSelector:"#my-cal-inline",config:{layout:"month_view",theme:"light",styles:{branding:{brandColor:"#E8B4B8",lightBrand:"#D4AF37"}},hideEventTypeDetails:!1,hideBranding:!0},calLink:"lucas-jensen-rlhgc8/30min"});Cal.ns["30min"]("ui",{styles:{branding:{brandColor:"#E8B4B8",lightBrand:"#D4AF37"}}});Cal.ns["30min"]("on",{action:"error",callback:o=>{console.error("Cal.com Error:",o),document.getElementById("calendar-error").style.display="block"}});window.addEventListener("DOMContentLoaded",function(){if(!document.getElementById("my-cal-inline"))return;Cal("init",{origin:"https://app.cal.com",debug:!1});const s={elementOrSelector:"#my-cal-inline",calLink:"lucas-jensen-rlhgc8/30min",config:{layout:"month_view",theme:"light",hideBranding:!0,hideEventTypeDetails:!1,styles:{branding:{brandColor:"#E8B4B8",lightBrand:"#D4AF37"}}}};Cal("inline",s);let l="";window.updateCalendarEventType=function(r,n){l!==r&&(l=r,Cal("inline",{...s,config:{...s.config,prefill:{eventType:r,notes:n?`Selected Package: ${n}`:""}}}))},Cal("on",{action:"error",callback:r=>{console.error("Calendar Error:",r),document.getElementById("calendar-error").style.display="block"}}),Cal("on",{action:"linkReady",callback:()=>{document.getElementById("calendar-error").style.display="none"}})});window.retryCalendarLoad=function(){document.getElementById("calendar-error").style.display="none";const o=document.createElement("script");o.src="https://app.cal.com/embed.js",o.async=!0,o.onload=function(){window.dispatchEvent(new Event("load"))},o.onerror=function(){document.getElementById("calendar-error").style.display="block"},document.body.appendChild(o)};document.addEventListener("DOMContentLoaded",function(){const o=document.querySelectorAll(".pricing-card"),s={threshold:.2,rootMargin:"0px"},l=new IntersectionObserver(e=>{e.forEach(t=>{t.isIntersecting&&(t.target.style.opacity="1",t.target.style.transform="translateY(0)")})},s);o.forEach(e=>{e.style.opacity="0",e.style.transform="translateY(30px)",e.style.transition="all 0.6s cubic-bezier(0.4, 0, 0.2, 1)",l.observe(e)}),document.querySelectorAll(".pricing-features li").forEach(e=>{e.addEventListener("mouseenter",()=>{e.style.transform="translateX(10px)",e.style.color="var(--primary-brand)"}),e.addEventListener("mouseleave",()=>{e.style.transform="translateX(0)",e.style.color="var(--text-dark)"})}),document.querySelectorAll(".price-button").forEach(e=>{e.addEventListener("click",function(t){const c=this.getAttribute("href");if(!c||this.closest("form"))return;let i;if(c==="#booking"?i=document.querySelector("#booking"):c==="#contact"&&(i=document.querySelector("#contact")),i&&(t.preventDefault(),i.scrollIntoView({behavior:"smooth"}),c==="#contact")){const a=document.getElementById("eventType");a&&(this.textContent.toLowerCase().includes("wedding")||this.textContent.toLowerCase().includes("reception")?a.value="wedding":this.textContent.toLowerCase().includes("event")?a.value="corporate":a.value="private")}})}),document.querySelectorAll(".pricing-card .price-button").forEach(e=>{e.addEventListener("click",function(t){if(!this.getAttribute("href")||this.closest("form"))return;t.preventDefault();const i=document.querySelector("#booking");if(i){i.scrollIntoView({behavior:"smooth"});const a=this.textContent.toLowerCase();let d;a.includes("wedding")||a.includes("ceremony")?d="wedding":a.includes("reception")?d="reception":d="event",typeof Cal<"u"&&Cal("inline",{elementOrSelector:"#my-cal-inline",calLink:"lucas-jensen-rlhgc8/30min",config:{theme:"light",layout:"month_view",prefill:{eventType:d,name:"",email:"",notes:`Package: ${this.closest(".pricing-card").querySelector("h3").textContent}`}}})}})}),document.querySelectorAll(".pricing-card .price-button").forEach(e=>{e.addEventListener("click",function(t){if(!this.getAttribute("href")||this.closest("form"))return;t.preventDefault();const i=document.querySelector("#booking");if(i){i.scrollIntoView({behavior:"smooth"});const a=this.closest(".pricing-card"),d=a.querySelector("h3").textContent,f=a.querySelector(".price-amount").textContent,m=a.querySelector(".price-duration").textContent,u=this.textContent.toLowerCase();let p;if(u.includes("wedding")||u.includes("ceremony")?p="wedding":u.includes("reception")?p="reception":p="event",typeof window.updateCalendarEventType=="function"){const y=`${d} - ${f} (${m})`;window.updateCalendarEventType(p,y)}}})});const n=document.getElementById("pricingDetailsModal");n&&new bootstrap.Modal(n)});document.addEventListener("DOMContentLoaded",function(){const o=document.getElementById("songSearch"),s=document.querySelectorAll(".song-filter button"),l=document.querySelector(".song-category-all"),r=document.querySelectorAll(".song-category-single");s.forEach(n=>{n.addEventListener("click",function(){const e=this.getAttribute("data-category");s.forEach(t=>t.classList.remove("active")),this.classList.add("active"),e==="all"?(l.style.display="",r.forEach(t=>t.style.display="none")):(l.style.display="none",r.forEach(t=>{t.getAttribute("data-category")===e?t.style.display="":t.style.display="none"}))})}),o&&o.addEventListener("input",function(n){const e=n.target.value.toLowerCase();document.querySelectorAll(".song-list li").forEach(c=>{const i=c.textContent.toLowerCase();c.style.display=i.includes(e)?"":"none"})})});document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".image-placeholder").forEach(function(o){o.addEventListener("click",function(s){const l=o.getAttribute("data-img"),r=o.getAttribute("data-caption");document.getElementById("lightbox-image").src=l,document.getElementById("lightbox-caption").textContent=r})})});const g="031d7316-27c7-4f63-92d5-e47258ac0dd8";document.addEventListener("DOMContentLoaded",function(){const o=document.querySelector(".contact-form form");if(o){const l=document.getElementById("successModal"),r=l?new bootstrap.Modal(l,{backdrop:!0,keyboard:!0,focus:!0}):null,n=o.querySelector('input[name="access_key"]');n&&(n.value=g),o.addEventListener("submit",async function(e){e.preventDefault();const t=o.querySelector('button[type="submit"]'),c=t.querySelector(".button-text"),i=t.querySelector(".spinner-border");if(!o.checkValidity()){e.stopPropagation(),o.classList.add("was-validated");return}try{t.disabled=!0,c.textContent="Sending...",i.style.display="inline-block";const a=new FormData(o),f=`New ${a.get("eventType")} Inquiry - Southern Utah Harpist`;a.set("subject",f);const u=await(await fetch("https://api.web3forms.com/submit",{method:"POST",body:a,headers:{Accept:"application/json"}})).json();if(u.success)r&&(r.show(),setTimeout(()=>{r.hide()},3e3)),o.reset(),o.classList.remove("was-validated");else throw new Error(u.message||"Submission failed")}catch(a){console.error("Submission error:",a),alert("Sorry, there was a problem sending your message. Please try again later.")}finally{t.disabled=!1,c.textContent="Send Message",i.style.display="none"}}),o.querySelectorAll("input, select, textarea").forEach(e=>{e.addEventListener("input",()=>{o.classList.contains("was-validated")&&(e.classList.remove("is-invalid"),e.checkValidity()&&e.classList.add("is-valid"))})})}const s=document.getElementById("year");s&&(s.textContent=new Date().getFullYear())});document.addEventListener("DOMContentLoaded",function(){const o=document.querySelectorAll('.navbar-nav .nav-link, .footer-links a, .price-button, .btn-outline-primary[href="#contact"]'),s=document.querySelector(".navbar-collapse"),l=s?new bootstrap.Collapse(s,{toggle:!1}):null;o.forEach(e=>{e.addEventListener("click",t=>{var i;s!=null&&s.classList.contains("show")&&(l==null||l.hide());const c=e.getAttribute("href");if(c!=null&&c.startsWith("#")){t.preventDefault();const a=document.querySelector(c);if(a){const d=((i=document.querySelector(".navbar"))==null?void 0:i.offsetHeight)||0,m=a.getBoundingClientRect().top+window.pageYOffset-d-20;window.scrollTo({top:m,behavior:"smooth"})}}})});const r=document.querySelectorAll("section, div[id]");window.addEventListener("scroll",()=>{let e="";r.forEach(t=>{const c=t.offsetTop;t.clientHeight,pageYOffset>=c-200&&(e=t.getAttribute("id"))}),o.forEach(t=>{t.classList.remove("active"),t.getAttribute("href")===`#${e}`&&t.classList.add("active")})}),window.dispatchEvent(new Event("scroll"));const n=document.querySelector("header");if(n){let e=0;window.addEventListener("scroll",()=>{const t=window.pageYOffset;if(t<=0){n.classList.remove("scroll-up");return}t>e&&!n.classList.contains("scroll-down")?(n.classList.remove("scroll-up"),n.classList.add("scroll-down")):t<e&&n.classList.contains("scroll-down")&&(n.classList.remove("scroll-down"),n.classList.add("scroll-up")),e=t})}});
